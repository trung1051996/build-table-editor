{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/trungnguyenthanh/Downloads/build-table-editor/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,yKAAO,EAAC,IAAA,gJAAI,EAAC;AACtB"}},
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///Users/trungnguyenthanh/Downloads/build-table-editor/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\n        secondary:\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost:\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\n        icon: 'size-9',\n        'icon-sm': 'size-8',\n        'icon-lg': 'size-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'button'> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : 'button'\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,0KAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,2KAAI,GAAG;IAE9B,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf;KAnBS"}},
    {"offset": {"line": 87, "column": 0}, "map": {"version":3,"sources":["file:///Users/trungnguyenthanh/Downloads/build-table-editor/components/ui/input.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Input({ className, type, ...props }: React.ComponentProps<'input'>) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        'file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n        'focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]',\n        'aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,6LAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,8bACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS"}},
    {"offset": {"line": 118, "column": 0}, "map": {"version":3,"sources":["file:///Users/trungnguyenthanh/Downloads/build-table-editor/components/ui/dropdown-menu.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as DropdownMenuPrimitive from '@radix-ui/react-dropdown-menu'\nimport { CheckIcon, ChevronRightIcon, CircleIcon } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\n\nfunction DropdownMenu({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Root>) {\n  return <DropdownMenuPrimitive.Root data-slot=\"dropdown-menu\" {...props} />\n}\n\nfunction DropdownMenuPortal({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Portal>) {\n  return (\n    <DropdownMenuPrimitive.Portal data-slot=\"dropdown-menu-portal\" {...props} />\n  )\n}\n\nfunction DropdownMenuTrigger({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Trigger>) {\n  return (\n    <DropdownMenuPrimitive.Trigger\n      data-slot=\"dropdown-menu-trigger\"\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuContent({\n  className,\n  sideOffset = 4,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Content>) {\n  return (\n    <DropdownMenuPrimitive.Portal>\n      <DropdownMenuPrimitive.Content\n        data-slot=\"dropdown-menu-content\"\n        sideOffset={sideOffset}\n        className={cn(\n          'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md',\n          className,\n        )}\n        {...props}\n      />\n    </DropdownMenuPrimitive.Portal>\n  )\n}\n\nfunction DropdownMenuGroup({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Group>) {\n  return (\n    <DropdownMenuPrimitive.Group data-slot=\"dropdown-menu-group\" {...props} />\n  )\n}\n\nfunction DropdownMenuItem({\n  className,\n  inset,\n  variant = 'default',\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Item> & {\n  inset?: boolean\n  variant?: 'default' | 'destructive'\n}) {\n  return (\n    <DropdownMenuPrimitive.Item\n      data-slot=\"dropdown-menu-item\"\n      data-inset={inset}\n      data-variant={variant}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuCheckboxItem({\n  className,\n  children,\n  checked,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.CheckboxItem>) {\n  return (\n    <DropdownMenuPrimitive.CheckboxItem\n      data-slot=\"dropdown-menu-checkbox-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      checked={checked}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <DropdownMenuPrimitive.ItemIndicator>\n          <CheckIcon className=\"size-4\" />\n        </DropdownMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </DropdownMenuPrimitive.CheckboxItem>\n  )\n}\n\nfunction DropdownMenuRadioGroup({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioGroup>) {\n  return (\n    <DropdownMenuPrimitive.RadioGroup\n      data-slot=\"dropdown-menu-radio-group\"\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuRadioItem({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioItem>) {\n  return (\n    <DropdownMenuPrimitive.RadioItem\n      data-slot=\"dropdown-menu-radio-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <DropdownMenuPrimitive.ItemIndicator>\n          <CircleIcon className=\"size-2 fill-current\" />\n        </DropdownMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </DropdownMenuPrimitive.RadioItem>\n  )\n}\n\nfunction DropdownMenuLabel({\n  className,\n  inset,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Label> & {\n  inset?: boolean\n}) {\n  return (\n    <DropdownMenuPrimitive.Label\n      data-slot=\"dropdown-menu-label\"\n      data-inset={inset}\n      className={cn(\n        'px-2 py-1.5 text-sm font-medium data-[inset]:pl-8',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Separator>) {\n  return (\n    <DropdownMenuPrimitive.Separator\n      data-slot=\"dropdown-menu-separator\"\n      className={cn('bg-border -mx-1 my-1 h-px', className)}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuShortcut({\n  className,\n  ...props\n}: React.ComponentProps<'span'>) {\n  return (\n    <span\n      data-slot=\"dropdown-menu-shortcut\"\n      className={cn(\n        'text-muted-foreground ml-auto text-xs tracking-widest',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuSub({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Sub>) {\n  return <DropdownMenuPrimitive.Sub data-slot=\"dropdown-menu-sub\" {...props} />\n}\n\nfunction DropdownMenuSubTrigger({\n  className,\n  inset,\n  children,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubTrigger> & {\n  inset?: boolean\n}) {\n  return (\n    <DropdownMenuPrimitive.SubTrigger\n      data-slot=\"dropdown-menu-sub-trigger\"\n      data-inset={inset}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronRightIcon className=\"ml-auto size-4\" />\n    </DropdownMenuPrimitive.SubTrigger>\n  )\n}\n\nfunction DropdownMenuSubContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubContent>) {\n  return (\n    <DropdownMenuPrimitive.SubContent\n      data-slot=\"dropdown-menu-sub-content\"\n      className={cn(\n        'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  DropdownMenu,\n  DropdownMenuPortal,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuLabel,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioGroup,\n  DropdownMenuRadioItem,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuSub,\n  DropdownMenuSubTrigger,\n  DropdownMenuSubContent,\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 427, "column": 0}, "map": {"version":3,"sources":["file:///Users/trungnguyenthanh/Downloads/build-table-editor/components/ui/badge.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst badgeVariants = cva(\n  'inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden',\n  {\n    variants: {\n      variant: {\n        default:\n          'border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90',\n        secondary:\n          'border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90',\n        destructive:\n          'border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n    },\n  },\n)\n\nfunction Badge({\n  className,\n  variant,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'span'> &\n  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : 'span'\n\n  return (\n    <Comp\n      data-slot=\"badge\"\n      className={cn(badgeVariants({ variant }), className)}\n      {...props}\n    />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,IAAA,0KAAG,EACvB,kZACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,UAAU,KAAK,EACf,GAAG,OAEuD;IAC1D,MAAM,OAAO,UAAU,2KAAI,GAAG;IAE9B,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf;KAhBS"}},
    {"offset": {"line": 479, "column": 0}, "map": {"version":3,"sources":["file:///Users/trungnguyenthanh/Downloads/build-table-editor/lib/validation-schema.ts"],"sourcesContent":["interface FieldSchema {\n  required: boolean\n  type: string\n  minLength?: number\n  errorMessage: string\n  enum?: string[]\n  pattern?: RegExp\n}\n\ninterface ValidationResult {\n  valid: boolean\n  error?: string\n}\n\nexport const fieldValidation: Record<string, FieldSchema> = {\n  id: {\n    required: true,\n    type: \"string\",\n    minLength: 1,\n    errorMessage: \"ID is required\",\n  },\n  name: {\n    required: true,\n    type: \"string\",\n    minLength: 1,\n    errorMessage: \"Name is required\",\n  },\n  language: {\n    required: true,\n    type: \"string\",\n    minLength: 1,\n    errorMessage: \"Language is required\",\n  },\n  version: {\n    required: false,\n    type: \"string\",\n    pattern: /^\\d+(\\.\\d+)*$/, // semver format\n    errorMessage: \"Version must be in semver format (e.g., 1.0.0)\",\n  },\n  State: {\n    required: false,\n    type: \"string\",\n    enum: [\"new customer\", \"served\", \"to contact\", \"paused\"],\n    errorMessage: \"State must be: new customer, served, to contact, or paused\",\n  },\n  \"Created Date\": {\n    required: false,\n    type: \"string\",\n    pattern: /^\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}$/, // YYYY-MM-DD HH:MM:SS format\n    errorMessage: \"Created Date must be in YYYY-MM-DD HH:MM:SS format (e.g., 2025-11-22 13:03:42)\",\n  },\n}\n\nexport const validateField = (fieldName: string, value: any): ValidationResult => {\n  const schema = fieldValidation[fieldName]\n  if (!schema) return { valid: true }\n\n  if (schema.required && (!value || String(value).trim() === \"\")) {\n    if (fieldName === \"language\") {\n      return { valid: false, error: \"Language is required\" }\n    }\n    return { valid: false, error: schema.errorMessage }\n  }\n\n  // Check if empty and not required\n  if (!schema.required && (!value || String(value).trim() === \"\")) {\n    return { valid: true }\n  }\n\n  if (schema.enum && fieldName !== \"language\") {\n    const trimmedValue = String(value).trim()\n    if (!schema.enum.includes(trimmedValue)) {\n      return { valid: false, error: schema.errorMessage }\n    }\n  }\n\n  // Check pattern\n  if (schema.pattern && !schema.pattern.test(String(value))) {\n    return { valid: false, error: schema.errorMessage }\n  }\n\n  // Check minLength\n  if (schema.minLength && String(value).length < schema.minLength) {\n    return { valid: false, error: `${fieldName} must be at least ${schema.minLength} characters` }\n  }\n\n  return { valid: true }\n}\n"],"names":[],"mappings":";;;;;;AAcO,MAAM,kBAA+C;IAC1D,IAAI;QACF,UAAU;QACV,MAAM;QACN,WAAW;QACX,cAAc;IAChB;IACA,MAAM;QACJ,UAAU;QACV,MAAM;QACN,WAAW;QACX,cAAc;IAChB;IACA,UAAU;QACR,UAAU;QACV,MAAM;QACN,WAAW;QACX,cAAc;IAChB;IACA,SAAS;QACP,UAAU;QACV,MAAM;QACN,SAAS;QACT,cAAc;IAChB;IACA,OAAO;QACL,UAAU;QACV,MAAM;QACN,MAAM;YAAC;YAAgB;YAAU;YAAc;SAAS;QACxD,cAAc;IAChB;IACA,gBAAgB;QACd,UAAU;QACV,MAAM;QACN,SAAS;QACT,cAAc;IAChB;AACF;AAEO,MAAM,gBAAgB,CAAC,WAAmB;IAC/C,MAAM,SAAS,eAAe,CAAC,UAAU;IACzC,IAAI,CAAC,QAAQ,OAAO;QAAE,OAAO;IAAK;IAElC,IAAI,OAAO,QAAQ,IAAI,CAAC,CAAC,SAAS,OAAO,OAAO,IAAI,OAAO,EAAE,GAAG;QAC9D,IAAI,cAAc,YAAY;YAC5B,OAAO;gBAAE,OAAO;gBAAO,OAAO;YAAuB;QACvD;QACA,OAAO;YAAE,OAAO;YAAO,OAAO,OAAO,YAAY;QAAC;IACpD;IAEA,kCAAkC;IAClC,IAAI,CAAC,OAAO,QAAQ,IAAI,CAAC,CAAC,SAAS,OAAO,OAAO,IAAI,OAAO,EAAE,GAAG;QAC/D,OAAO;YAAE,OAAO;QAAK;IACvB;IAEA,IAAI,OAAO,IAAI,IAAI,cAAc,YAAY;QAC3C,MAAM,eAAe,OAAO,OAAO,IAAI;QACvC,IAAI,CAAC,OAAO,IAAI,CAAC,QAAQ,CAAC,eAAe;YACvC,OAAO;gBAAE,OAAO;gBAAO,OAAO,OAAO,YAAY;YAAC;QACpD;IACF;IAEA,gBAAgB;IAChB,IAAI,OAAO,OAAO,IAAI,CAAC,OAAO,OAAO,CAAC,IAAI,CAAC,OAAO,SAAS;QACzD,OAAO;YAAE,OAAO;YAAO,OAAO,OAAO,YAAY;QAAC;IACpD;IAEA,kBAAkB;IAClB,IAAI,OAAO,SAAS,IAAI,OAAO,OAAO,MAAM,GAAG,OAAO,SAAS,EAAE;QAC/D,OAAO;YAAE,OAAO;YAAO,OAAO,GAAG,UAAU,kBAAkB,EAAE,OAAO,SAAS,CAAC,WAAW,CAAC;QAAC;IAC/F;IAEA,OAAO;QAAE,OAAO;IAAK;AACvB"}},
    {"offset": {"line": 585, "column": 0}, "map": {"version":3,"sources":["file:///Users/trungnguyenthanh/Downloads/build-table-editor/components/table-body.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\n\nimport { useState, useRef, useEffect } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Trash2 } from \"lucide-react\"\nimport { cn } from \"@/lib/utils\"\nimport { validateField } from \"@/lib/validation-schema\"\n\ninterface TableBodyProps {\n  items: any[]\n  columns: string[]\n  editedData: Record<string, any>\n  onUpdateRow: (internalId: string, data: Record<string, any>) => void\n  onDeleteRow: (internalId: string) => void\n}\n\nconst getStatusColor = (status: string): string => {\n  const statusMap: Record<string, string> = {\n    \"new customer\": \"bg-red-100 text-red-800\",\n    served: \"bg-blue-100 text-blue-800\",\n    \"to contact\": \"bg-yellow-100 text-yellow-800\",\n    paused: \"bg-gray-100 text-gray-800\",\n  }\n  return statusMap[status] || \"bg-gray-100 text-gray-800\"\n}\n\nexport function TableBody({ items, columns, editedData, onUpdateRow, onDeleteRow }: TableBodyProps) {\n  const [editingCell, setEditingCell] = useState<string | null>(null)\n  const [editValue, setEditValue] = useState(\"\")\n  const [validationError, setValidationError] = useState<string | null>(null)\n  const inputRef = useRef<HTMLInputElement>(null)\n\n  useEffect(() => {\n    if (editingCell && inputRef.current) {\n      inputRef.current.focus()\n      inputRef.current.select()\n    }\n  }, [editingCell])\n\n  const startEdit = (internalId: string, column: string, value: any) => {\n    setEditingCell(`${internalId}-${column}`)\n    setEditValue(String(value))\n    setValidationError(null)\n  }\n\n  const saveEdit = (internalId: string, column: string) => {\n    const validation = validateField(column, editValue)\n    if (!validation.valid) {\n      setValidationError(validation.error)\n      return\n    }\n    onUpdateRow(internalId, { [column]: editValue })\n    setEditingCell(null)\n    setValidationError(null)\n  }\n\n  const cancelEdit = () => {\n    setEditingCell(null)\n  }\n\n  const handleKeyDown = (e: React.KeyboardEvent, internalId: string, column: string) => {\n    if (e.key === \"Enter\") {\n      saveEdit(internalId, column)\n    } else if (e.key === \"Escape\") {\n      cancelEdit()\n    }\n  }\n\n  return (\n    <div className=\"overflow-x-auto\">\n      <table className=\"w-full text-sm\">\n        <thead className=\"sticky top-0 bg-muted border-b\">\n          <tr>\n            <th className=\"w-10 px-4 py-2 text-left\"></th>\n            {columns.map((col) => (\n              <th key={col} className=\"px-4 py-2 text-left font-semibold text-foreground whitespace-nowrap\">\n                {col}\n              </th>\n            ))}\n            <th className=\"w-10 px-4 py-2\"></th>\n          </tr>\n        </thead>\n        <tbody>\n          {items.map((row, idx) => (\n            <tr key={row._internalId} className=\"border-b hover:bg-muted/50 transition-colors\">\n              <td className=\"px-4 py-2 text-muted-foreground text-xs w-10\">{idx + 1}</td>\n              {columns.map((col) => {\n                const cellKey = `${row._internalId}-${col}`\n                const isEditing = editingCell === cellKey\n                const displayValue = editedData[row._internalId]?.[col] ?? row[col] ?? \"\"\n                const isStatusColumn = col.toLowerCase() === \"state\"\n\n                return (\n                  <td\n                    key={cellKey}\n                    className=\"px-4 py-2 cursor-pointer hover:bg-accent/10 transition-colors\"\n                    onClick={() => startEdit(row._internalId, col, displayValue)}\n                  >\n                    {isEditing ? (\n                      <div className=\"flex flex-col gap-1 w-full\">\n                        <Input\n                          ref={inputRef}\n                          value={editValue}\n                          onChange={(e) => {\n                            setEditValue(e.target.value)\n                            setValidationError(null)\n                          }}\n                          onKeyDown={(e) => handleKeyDown(e, row._internalId, col)}\n                          onBlur={() => saveEdit(row._internalId, col)}\n                          className={cn(\"h-6 text-xs\", validationError && \"border-red-500\")}\n                        />\n                        {validationError && <span className=\"text-red-500 text-xs\">{validationError}</span>}\n                      </div>\n                    ) : (\n                      <div className=\"truncate\">\n                        {isStatusColumn && displayValue ? (\n                          <Badge className={cn(\"text-xs\", getStatusColor(displayValue))}>{displayValue}</Badge>\n                        ) : (\n                          <span className=\"text-foreground\">{displayValue}</span>\n                        )}\n                      </div>\n                    )}\n                  </td>\n                )\n              })}\n              <td className=\"px-4 py-2 text-center\">\n                <Button variant=\"ghost\" size=\"sm\" onClick={() => onDeleteRow(row._internalId)} className=\"h-6 w-6 p-0\">\n                  <Trash2 className=\"w-4 h-4 text-destructive\" />\n                </Button>\n              </td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 838, "column": 0}, "map": {"version":3,"sources":["file:///Users/trungnguyenthanh/Downloads/build-table-editor/lib/data-generator.ts"],"sourcesContent":["// Helper functions to generate fake data for missing fields\n\nconst stateOptions = [\"new customer\", \"served\", \"to contact\", \"paused\"]\nconst months = [\"01\", \"02\", \"03\", \"04\", \"05\", \"06\", \"07\", \"08\", \"09\", \"10\", \"11\", \"12\"]\nconst days = [\"01\", \"02\", \"03\", \"04\", \"05\", \"06\", \"07\", \"08\", \"09\", \"10\", \"15\", \"20\", \"25\", \"28\"]\nconst years = [\"2020\", \"2021\", \"2022\", \"2023\", \"2024\"]\n\n// Generate a random date with time in format YYYY-MM-DD HH:MM:SS\nexport function generateRandomDate(): string {\n  const year = years[Math.floor(Math.random() * years.length)]\n  const month = months[Math.floor(Math.random() * months.length)]\n  const day = days[Math.floor(Math.random() * days.length)]\n  const hour = String(Math.floor(Math.random() * 24)).padStart(2, \"0\")\n  const minute = String(Math.floor(Math.random() * 60)).padStart(2, \"0\")\n  const second = String(Math.floor(Math.random() * 60)).padStart(2, \"0\")\n  return `${year}-${month}-${day} ${hour}:${minute}:${second}`\n}\n\n// Generate a random state value\nexport function generateRandomState(): string {\n  return stateOptions[Math.floor(Math.random() * stateOptions.length)]\n}\n\n// Fill missing State and Created Date fields with fake data\nexport function fillMissingFields(data: any): any[] {\n  return Array.isArray(data)\n    ? data.map((row, idx) => ({\n        ...row,\n        State: row.State || generateRandomState(),\n        \"Created Date\": row[\"Created Date\"] || generateRandomDate(),\n      }))\n    : data\n}\n"],"names":[],"mappings":"AAAA,4DAA4D;;;;;;;;;AAE5D,MAAM,eAAe;IAAC;IAAgB;IAAU;IAAc;CAAS;AACvE,MAAM,SAAS;IAAC;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;CAAK;AACvF,MAAM,OAAO;IAAC;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;CAAK;AACjG,MAAM,QAAQ;IAAC;IAAQ;IAAQ;IAAQ;IAAQ;CAAO;AAG/C,SAAS;IACd,MAAM,OAAO,KAAK,CAAC,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK,MAAM,MAAM,EAAE;IAC5D,MAAM,QAAQ,MAAM,CAAC,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK,OAAO,MAAM,EAAE;IAC/D,MAAM,MAAM,IAAI,CAAC,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK,KAAK,MAAM,EAAE;IACzD,MAAM,OAAO,OAAO,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK,KAAK,QAAQ,CAAC,GAAG;IAChE,MAAM,SAAS,OAAO,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK,KAAK,QAAQ,CAAC,GAAG;IAClE,MAAM,SAAS,OAAO,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK,KAAK,QAAQ,CAAC,GAAG;IAClE,OAAO,GAAG,KAAK,CAAC,EAAE,MAAM,CAAC,EAAE,IAAI,CAAC,EAAE,KAAK,CAAC,EAAE,OAAO,CAAC,EAAE,QAAQ;AAC9D;AAGO,SAAS;IACd,OAAO,YAAY,CAAC,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK,aAAa,MAAM,EAAE;AACtE;AAGO,SAAS,kBAAkB,IAAS;IACzC,OAAO,MAAM,OAAO,CAAC,QACjB,KAAK,GAAG,CAAC,CAAC,KAAK,MAAQ,CAAC;YACtB,GAAG,GAAG;YACN,OAAO,IAAI,KAAK,IAAI;YACpB,gBAAgB,GAAG,CAAC,eAAe,IAAI;QACzC,CAAC,KACD;AACN"}},
    {"offset": {"line": 916, "column": 0}, "map": {"version":3,"sources":["file:///Users/trungnguyenthanh/Downloads/build-table-editor/lib/db-storage.ts"],"sourcesContent":["import localforage from \"localforage\"\n\n// Initialize localForage with custom config\nlocalforage.config({\n  name: \"table-editor-db\",\n  storeName: \"table-data\",\n})\n\ninterface StorageInterface {\n  setDataCache(data: any[]): Promise<boolean>\n  getDataCache(): Promise<any[] | null>\n  clearDataCache(): Promise<boolean>\n  hasDataCache(): Promise<boolean>\n  getCacheMetadata(): Promise<any>\n  setCacheMetadata(metadata: any): Promise<boolean>\n}\n\nexport const DB_STORAGE: StorageInterface = {\n  // Store large dataset in IndexedDB\n  async setDataCache(data: any[]): Promise<boolean> {\n    try {\n      await localforage.setItem(\"table-dataset\", data)\n      return true\n    } catch (error) {\n      console.error(\"[v0] Failed to store data in IndexedDB:\", error)\n      return false\n    }\n  },\n\n  // Retrieve large dataset from IndexedDB\n  async getDataCache(): Promise<any[] | null> {\n    try {\n      const data = await localforage.getItem(\"table-dataset\")\n      return data\n    } catch (error) {\n      console.error(\"[v0] Failed to retrieve data from IndexedDB:\", error)\n      return null\n    }\n  },\n\n  // Clear large dataset cache\n  async clearDataCache(): Promise<boolean> {\n    try {\n      await localforage.removeItem(\"table-dataset\")\n      return true\n    } catch (error) {\n      console.error(\"[v0] Failed to clear data cache:\", error)\n      return false\n    }\n  },\n\n  // Check if data cache exists\n  async hasDataCache(): Promise<boolean> {\n    try {\n      const data = await localforage.getItem(\"table-dataset\")\n      return data !== null\n    } catch (error) {\n      console.error(\"[v0] Failed to check cache:\", error)\n      return false\n    }\n  },\n\n  // Get cache metadata\n  async getCacheMetadata(): Promise<any> {\n    try {\n      const metadata = await localforage.getItem(\"cache-metadata\")\n      return metadata\n    } catch (error) {\n      return null\n    }\n  },\n\n  // Set cache metadata\n  async setCacheMetadata(metadata: any): Promise<boolean> {\n    try {\n      await localforage.setItem(\"cache-metadata\", metadata)\n      return true\n    } catch (error) {\n      console.error(\"[v0] Failed to store metadata:\", error)\n      return false\n    }\n  },\n}\n"],"names":[],"mappings":";;;;AAAA;;AAEA,4CAA4C;AAC5C,gKAAW,CAAC,MAAM,CAAC;IACjB,MAAM;IACN,WAAW;AACb;AAWO,MAAM,aAA+B;IAC1C,mCAAmC;IACnC,MAAM,cAAa,IAAW;QAC5B,IAAI;YACF,MAAM,gKAAW,CAAC,OAAO,CAAC,iBAAiB;YAC3C,OAAO;QACT,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,2CAA2C;YACzD,OAAO;QACT;IACF;IAEA,wCAAwC;IACxC,MAAM;QACJ,IAAI;YACF,MAAM,OAAO,MAAM,gKAAW,CAAC,OAAO,CAAC;YACvC,OAAO;QACT,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,gDAAgD;YAC9D,OAAO;QACT;IACF;IAEA,4BAA4B;IAC5B,MAAM;QACJ,IAAI;YACF,MAAM,gKAAW,CAAC,UAAU,CAAC;YAC7B,OAAO;QACT,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,oCAAoC;YAClD,OAAO;QACT;IACF;IAEA,6BAA6B;IAC7B,MAAM;QACJ,IAAI;YACF,MAAM,OAAO,MAAM,gKAAW,CAAC,OAAO,CAAC;YACvC,OAAO,SAAS;QAClB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,+BAA+B;YAC7C,OAAO;QACT;IACF;IAEA,qBAAqB;IACrB,MAAM;QACJ,IAAI;YACF,MAAM,WAAW,MAAM,gKAAW,CAAC,OAAO,CAAC;YAC3C,OAAO;QACT,EAAE,OAAO,OAAO;YACd,OAAO;QACT;IACF;IAEA,qBAAqB;IACrB,MAAM,kBAAiB,QAAa;QAClC,IAAI;YACF,MAAM,gKAAW,CAAC,OAAO,CAAC,kBAAkB;YAC5C,OAAO;QACT,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,kCAAkC;YAChD,OAAO;QACT;IACF;AACF"}},
    {"offset": {"line": 995, "column": 0}, "map": {"version":3,"sources":["file:///Users/trungnguyenthanh/Downloads/build-table-editor/hooks/use-table-data.ts"],"sourcesContent":["\"use client\"\n\nimport { useState, useCallback, useEffect } from \"react\"\nimport useSWR from \"swr\"\nimport { fillMissingFields } from \"@/lib/data-generator\"\nimport { DB_STORAGE } from \"@/lib/db-storage\"\n\nconst DATA_URL = \"https://microsoftedge.github.io/Demos/json-dummy-data/5MB.json\"\nconst ROWS_PER_PAGE = 50\nconst ADDED_ROWS_KEY = \"table-editor-added-rows\"\nconst DELETED_ROWS_KEY = \"table-editor-deleted-rows\"\n\ninterface UseTableDataProps {\n  search: string\n  sortColumn: string | null\n  sortOrder: \"asc\" | \"desc\"\n  filterColumn: string | null\n  filterValue: string\n}\n\nexport function useTableData({ search, sortColumn, sortOrder, filterColumn, filterValue }: UseTableDataProps) {\n  const [displayedItems, setDisplayedItems] = useState<any[]>([])\n  const [page, setPage] = useState(0)\n  const [editedData, setEditedData] = useState<Record<string, any>>({})\n  const [allData, setAllData] = useState<any[]>([])\n  const [isInitialized, setIsInitialized] = useState(false)\n  const [rowIndexMap, setRowIndexMap] = useState<Record<string, any>>({})\n  const [addedRows, setAddedRows] = useState<any[]>([])\n  const [deletedRows, setDeletedRows] = useState<string[]>([])\n  const [isLoadingFromDB, setIsLoadingFromDB] = useState(false)\n\n  const { data, isLoading } = useSWR(\n    DATA_URL,\n    async (url: string) => {\n      setIsLoadingFromDB(true)\n      try {\n        const cached = await DB_STORAGE.getDataCache()\n        if (cached) {\n          console.log(\"[v0] Loaded dataset from IndexedDB\")\n          setIsLoadingFromDB(false)\n          return cached\n        }\n\n        // Fetch from URL if not in cache\n        console.log(\"[v0] Fetching dataset from URL...\")\n        const response = await fetch(url)\n        const json = await response.json()\n\n        const filledData = fillMissingFields(json)\n\n        await DB_STORAGE.setDataCache(filledData)\n        console.log(\"[v0] Dataset stored in IndexedDB\")\n\n        return filledData\n      } finally {\n        setIsLoadingFromDB(false)\n      }\n    },\n    { revalidateOnFocus: false, dedupingInterval: 60000 },\n  )\n\n  useEffect(() => {\n    // Keep small metadata in localStorage\n    const cachedAdded = localStorage.getItem(ADDED_ROWS_KEY)\n    const cachedDeleted = localStorage.getItem(DELETED_ROWS_KEY)\n\n    if (cachedAdded) {\n      setAddedRows(JSON.parse(cachedAdded))\n    }\n    if (cachedDeleted) {\n      setDeletedRows(JSON.parse(cachedDeleted))\n    }\n  }, [])\n\n  useEffect(() => {\n    if (!data) return\n\n    let processed = Array.isArray(data) ? data : data.data || []\n\n    const newRowIndexMap: Record<string, any> = {}\n    processed = processed.map((row, idx) => {\n      const internalId = `row-${idx}`\n      newRowIndexMap[internalId] = row.id\n      return {\n        ...row,\n        _internalId: internalId,\n      }\n    })\n\n    processed = processed.filter((row) => !deletedRows.includes(row._internalId))\n    processed = [...addedRows, ...processed]\n\n    if (search && search.trim()) {\n      const searchLower = search.toLowerCase()\n      processed = processed.filter((row) => {\n        return Object.entries(row).some(([key, val]) => {\n          if (!val) return false\n          return String(val).toLowerCase().includes(searchLower)\n        })\n      })\n    }\n\n    if (filterColumn && filterValue && filterValue.trim()) {\n      const filterLower = filterValue.toLowerCase()\n      processed = processed.filter((row) => {\n        const columnValue = row[filterColumn]\n        if (columnValue === null || columnValue === undefined) return false\n        return String(columnValue).toLowerCase().includes(filterLower)\n      })\n    }\n\n    if (sortColumn) {\n      processed = [...processed].sort((a, b) => {\n        const aVal = a[sortColumn] ?? \"\"\n        const bVal = b[sortColumn] ?? \"\"\n\n        let comparison = 0\n        if (typeof aVal === \"string\" && typeof bVal === \"string\") {\n          comparison = aVal.localeCompare(bVal)\n        } else if (typeof aVal === \"number\" && typeof bVal === \"number\") {\n          comparison = aVal - bVal\n        } else {\n          comparison = String(aVal).localeCompare(String(bVal))\n        }\n\n        return sortOrder === \"asc\" ? comparison : -comparison\n      })\n    }\n\n    const finalData = processed.map((row) => ({\n      ...row,\n      ...(editedData[row._internalId] || {}),\n    }))\n\n    setAllData(finalData)\n    setRowIndexMap(newRowIndexMap)\n    setPage(0)\n    setDisplayedItems([])\n    setIsInitialized(true)\n  }, [data, search, sortColumn, sortOrder, filterColumn, filterValue, editedData, addedRows, deletedRows])\n\n  const hasMore = displayedItems.length < allData.length\n\n  const loadMore = useCallback(() => {\n    setDisplayedItems((prev) => {\n      const start = prev.length\n      const end = start + ROWS_PER_PAGE\n      const newItems = allData.slice(0, end)\n      return newItems\n    })\n  }, [allData])\n\n  useEffect(() => {\n    if (isInitialized && displayedItems.length === 0 && allData.length > 0) {\n      loadMore()\n    }\n  }, [isInitialized, allData, displayedItems.length, loadMore])\n\n  const addRow = useCallback(() => {\n    const internalId = `new-${Date.now()}`\n    const now = new Date()\n    const formattedDate = `${now.getFullYear()}-${String(now.getMonth() + 1).padStart(2, \"0\")}-${String(now.getDate()).padStart(2, \"0\")} ${String(now.getHours()).padStart(2, \"0\")}:${String(now.getMinutes()).padStart(2, \"0\")}:${String(now.getSeconds()).padStart(2, \"0\")}`\n    const newRow = {\n      id: internalId,\n      _internalId: internalId,\n      name: \"\",\n      Primary: \"\",\n      bio: \"\",\n      language: \"Fairfield\",\n      version: \"1.0.0\",\n      State: \"to contact\",\n      \"Created Date\": formattedDate,\n    }\n\n    setAddedRows((prev) => [newRow, ...prev])\n    setAllData((prev) => [newRow, ...prev])\n    setDisplayedItems((prev) => [newRow, ...prev])\n\n    const updatedAdded = [newRow, ...addedRows]\n    localStorage.setItem(ADDED_ROWS_KEY, JSON.stringify(updatedAdded))\n  }, [addedRows])\n\n  const updateRow = useCallback(\n    async (internalId: string, updateData: Record<string, any>) => {\n      setEditedData((prev) => ({\n        ...prev,\n        [internalId]: { ...prev[internalId], ...updateData },\n      }))\n\n      const cacheData = await DB_STORAGE.getDataCache()\n      if (cacheData && Array.isArray(cacheData)) {\n        const updated = cacheData.map((row) => (row._internalId === internalId ? { ...row, ...updateData } : row))\n        await DB_STORAGE.setDataCache(updated)\n      }\n\n      if (internalId.startsWith(\"new-\")) {\n        const updatedAdded = addedRows.map((row) => (row._internalId === internalId ? { ...row, ...updateData } : row))\n        localStorage.setItem(ADDED_ROWS_KEY, JSON.stringify(updatedAdded))\n        setAddedRows(updatedAdded)\n      }\n    },\n    [addedRows],\n  )\n\n  const deleteRow = useCallback(\n    async (internalId: string) => {\n      setAllData((prev) => prev.filter((row) => row._internalId !== internalId))\n      setDisplayedItems((prev) => prev.filter((row) => row._internalId !== internalId))\n\n      if (internalId.startsWith(\"new-\")) {\n        const updatedAdded = addedRows.filter((row) => row._internalId !== internalId)\n        localStorage.setItem(ADDED_ROWS_KEY, JSON.stringify(updatedAdded))\n        setAddedRows(updatedAdded)\n      } else {\n        const updatedDeleted = [...deletedRows, internalId]\n        localStorage.setItem(DELETED_ROWS_KEY, JSON.stringify(updatedDeleted))\n        setDeletedRows(updatedDeleted)\n      }\n\n      const cacheData = await DB_STORAGE.getDataCache()\n      if (cacheData && Array.isArray(cacheData)) {\n        const filtered = cacheData.filter((row) => row._internalId !== internalId)\n        await DB_STORAGE.setDataCache(filtered)\n      }\n    },\n    [addedRows, deletedRows],\n  )\n\n  return {\n    items: displayedItems,\n    isLoading: isLoading || isLoadingFromDB,\n    hasMore,\n    loadMore,\n    addRow,\n    updateRow,\n    deleteRow,\n    editedData,\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1316, "column": 0}, "map": {"version":3,"sources":["file:///Users/trungnguyenthanh/Downloads/build-table-editor/components/ui/skeleton.tsx"],"sourcesContent":["import { cn } from '@/lib/utils'\n\nfunction Skeleton({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"skeleton\"\n      className={cn('bg-accent animate-pulse rounded-md', className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n"],"names":[],"mappings":";;;;;AAAA;;;AAEA,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAoC;IACpE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf;KARS"}},
    {"offset": {"line": 1346, "column": 0}, "map": {"version":3,"sources":["file:///Users/trungnguyenthanh/Downloads/build-table-editor/components/table-editor.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useCallback, useRef, useEffect } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { DropdownMenu, DropdownMenuContent, DropdownMenuItem, DropdownMenuTrigger } from \"@/components/ui/dropdown-menu\"\nimport { ChevronDown, Plus, Filter, Search, Settings, MoreVertical, Zap, X } from \"lucide-react\"\nimport { TableBody } from \"./table-body\"\nimport { useTableData } from \"@/hooks/use-table-data\"\nimport { Skeleton } from \"@/components/ui/skeleton\"\n\nexport function TableEditor() {\n  const [search, setSearch] = useState(\"\")\n  const [sortColumn, setSortColumn] = useState<string | null>(null)\n  const [sortOrder, setSortOrder] = useState<\"asc\" | \"desc\">(\"asc\")\n  const [filterColumn, setFilterColumn] = useState<string | null>(null)\n  const [filterValue, setFilterValue] = useState(\"\")\n  const [visibleColumns, setVisibleColumns] = useState(\n    new Set([\"id\", \"name\", \"language\", \"version\", \"State\", \"Created Date\"]),\n  )\n  const [isAddingRow, setIsAddingRow] = useState(false)\n  const tableRef = useRef<HTMLDivElement>(null)\n\n  const { items, isLoading, hasMore, loadMore, addRow, updateRow, deleteRow, editedData } = useTableData({\n    search: search.trim(),\n    sortColumn,\n    sortOrder,\n    filterColumn,\n    filterValue: filterValue.trim(),\n  })\n\n  const handleInfiniteScroll = useCallback(() => {\n    if (!tableRef.current) return\n\n    const { scrollTop, scrollHeight, clientHeight } = tableRef.current\n    if (scrollHeight - scrollTop <= clientHeight + 500 && hasMore && !isLoading) {\n      loadMore()\n    }\n  }, [hasMore, isLoading, loadMore])\n\n  useEffect(() => {\n    const element = tableRef.current\n    if (!element) return\n\n    element.addEventListener(\"scroll\", handleInfiniteScroll)\n    return () => element.removeEventListener(\"scroll\", handleInfiniteScroll)\n  }, [handleInfiniteScroll])\n\n  const allColumns = [\"id\", \"name\", \"language\", \"version\", \"State\", \"Created Date\"]\n\n  const toggleColumn = (column: string) => {\n    const newColumns = new Set(visibleColumns)\n    if (newColumns.has(column)) {\n      newColumns.delete(column)\n    } else {\n      newColumns.add(column)\n    }\n    setVisibleColumns(newColumns)\n  }\n\n  const handleAddRow = () => {\n    setIsAddingRow(true)\n    addRow()\n    setIsAddingRow(false)\n  }\n\n  return (\n    <div className=\"flex flex-col gap-4 h-screen\">\n      <div className=\"flex items-center justify-between border-b pb-4\">\n        <h1 className=\"text-2xl font-bold\">Table name</h1>\n        <Button className=\"bg-red-500 hover:bg-red-600 text-white gap-2\">\n          <Zap className=\"w-4 h-4\" />\n          Ask AI\n        </Button>\n      </div>\n\n      <div className=\"flex flex-wrap gap-2 items-center p-3 bg-muted rounded-lg\">\n        <Button\n          variant=\"outline\"\n          size=\"sm\"\n          onClick={handleAddRow}\n          className=\"gap-2 bg-transparent\"\n          disabled={isAddingRow}\n        >\n          <Plus className=\"w-4 h-4\" />\n          Add row\n        </Button>\n\n        <div className=\"w-48 relative\">\n          <Search className=\"w-4 h-4 absolute left-2 top-2 text-muted-foreground\" />\n          <Input\n            placeholder=\"Search...\"\n            value={search}\n            onChange={(e) => setSearch(e.target.value)}\n            className=\"h-8 pl-8\"\n          />\n        </div>\n\n        <DropdownMenu>\n          <DropdownMenuTrigger asChild>\n            <Button variant=\"outline\" size=\"sm\" className=\"gap-2 bg-transparent\">\n              <Filter className=\"w-4 h-4\" />\n              Filter\n              {filterColumn && <span className=\"ml-1 text-xs\">({filterColumn})</span>}\n            </Button>\n          </DropdownMenuTrigger>\n          <DropdownMenuContent>\n            <DropdownMenuItem\n              onClick={() => {\n                setFilterColumn(null)\n                setFilterValue(\"\")\n              }}\n              className=\"text-xs text-muted-foreground\"\n            >\n              Clear Filter\n            </DropdownMenuItem>\n            {allColumns.map((col) => (\n              <DropdownMenuItem\n                key={col}\n                onClick={() => {\n                  setFilterColumn(col)\n                  setFilterValue(\"\")\n                }}\n                className={filterColumn === col ? \"bg-accent\" : \"\"}\n              >\n                {col}\n              </DropdownMenuItem>\n            ))}\n          </DropdownMenuContent>\n        </DropdownMenu>\n\n        {filterColumn && (\n          <div className=\"flex gap-2 items-center bg-white rounded px-2 border\">\n            <span className=\"text-sm text-muted-foreground whitespace-nowrap\">{filterColumn}:</span>\n            <Input\n              placeholder=\"Filter value...\"\n              value={filterValue}\n              onChange={(e) => setFilterValue(e.target.value)}\n              className=\"h-8 w-32 border-0\"\n            />\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              onClick={() => {\n                setFilterColumn(null)\n                setFilterValue(\"\")\n              }}\n              className=\"h-6 w-6 p-0\"\n            >\n              <X className=\"w-4 h-4\" />\n            </Button>\n          </div>\n        )}\n\n        <DropdownMenu>\n          <DropdownMenuTrigger asChild>\n            <Button variant=\"outline\" size=\"sm\" className=\"gap-2 bg-transparent\">\n              Sort\n              {sortColumn && <span className=\"ml-1 text-xs\">{sortOrder === \"asc\" ? \"\" : \"\"}</span>}\n              <ChevronDown className=\"w-4 h-4\" />\n            </Button>\n          </DropdownMenuTrigger>\n          <DropdownMenuContent>\n            <DropdownMenuItem\n              onClick={() => {\n                setSortColumn(null)\n                setSortOrder(\"asc\")\n              }}\n              className=\"text-xs text-muted-foreground\"\n            >\n              Clear Sort\n            </DropdownMenuItem>\n            {allColumns.map((col) => (\n              <DropdownMenuItem\n                key={col}\n                onClick={() => {\n                  if (sortColumn === col) {\n                    setSortOrder(sortOrder === \"asc\" ? \"desc\" : \"asc\")\n                  } else {\n                    setSortColumn(col)\n                    setSortOrder(\"asc\")\n                  }\n                }}\n                className={sortColumn === col ? \"bg-accent\" : \"\"}\n              >\n                {col} {sortColumn === col && (sortOrder === \"asc\" ? \"\" : \"\")}\n              </DropdownMenuItem>\n            ))}\n          </DropdownMenuContent>\n        </DropdownMenu>\n\n        <DropdownMenu>\n          <DropdownMenuTrigger asChild>\n            <Button variant=\"outline\" size=\"sm\" className=\"gap-2 bg-transparent\">\n              <Settings className=\"w-4 h-4\" />\n              Fields\n            </Button>\n          </DropdownMenuTrigger>\n          <DropdownMenuContent>\n            {allColumns.map((col) => (\n              <DropdownMenuItem key={col} onClick={() => toggleColumn(col)} className=\"flex items-center gap-2\">\n                <input type=\"checkbox\" checked={visibleColumns.has(col)} readOnly className=\"w-4 h-4\" />\n                {col}\n              </DropdownMenuItem>\n            ))}\n          </DropdownMenuContent>\n        </DropdownMenu>\n\n        <DropdownMenu>\n          <DropdownMenuTrigger asChild>\n            <Button variant=\"outline\" size=\"sm\">\n              <MoreVertical className=\"w-4 h-4\" />\n            </Button>\n          </DropdownMenuTrigger>\n          <DropdownMenuContent>\n            <DropdownMenuItem>Export</DropdownMenuItem>\n            <DropdownMenuItem>Settings</DropdownMenuItem>\n          </DropdownMenuContent>\n        </DropdownMenu>\n      </div>\n\n      <div ref={tableRef} className=\"flex-1 overflow-auto border rounded-lg bg-card\">\n        {isLoading && items.length === 0 ? (\n          <div className=\"p-4 space-y-2\">\n            <Skeleton className=\"h-8 w-full\" />\n            <Skeleton className=\"h-8 w-full\" />\n            <Skeleton className=\"h-8 w-full\" />\n          </div>\n        ) : (\n          <TableBody\n            items={items}\n            columns={Array.from(visibleColumns)}\n            editedData={editedData}\n            onUpdateRow={updateRow}\n            onDeleteRow={deleteRow}\n          />\n        )}\n\n        {isLoading && items.length > 0 && (\n          <div className=\"p-4 text-center text-sm text-muted-foreground\">Loading more...</div>\n        )}\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1944, "column": 0}, "map": {"version":3,"sources":["file:///Users/trungnguyenthanh/Downloads/build-table-editor/app/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { TableEditor } from \"@/components/table-editor\"\n\nexport default function Home() {\n  return (\n    <main className=\"min-h-screen bg-background p-4\">\n      <TableEditor />\n    </main>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIe,SAAS;IACtB,qBACE,6LAAC;QAAK,WAAU;kBACd,cAAA,6LAAC,gJAAW;;;;;;;;;;AAGlB;KANwB"}}]
}